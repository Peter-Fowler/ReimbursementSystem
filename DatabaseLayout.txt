CREATE TABLE employee (
	firstName VARCHAR2(50),
	lastName VARCHAR2(50) NOT NULL,
	password VARCHAR2(255) NOT NULL,
	email VARCHAR2(50),
	jobTitle VARCHAR2(100),
	manager VARCHAR2 (50),
	managerStatus NUMBER(1) NOT NULL,
	CONSTRAINT PRIMARY KEY(email)
);

CREATE TABLE ReimbursementRequest (
	employeeEmail VARCHAR2(50) NOT NULL,
	dateSubmited VARCHAR2(50) NOT NULL,
	amount number(10.2) NOT NULL,
	description VARCHAR2(1024),
	requestID NUMBER GENERATED BY DEFAULT AS IDENTITY,
	CONSTRAINT requestID PRIMARY KEY (requestID)
	
);

CREATE TABLE ReimbursementDecided (
	managerEmail VARCHAR2(50) NOT NULL,
	dateDecided VARCHAR2(50) NOT NULL,
	decision NUMBER(1) NOT NULL,
	decisionID NUMBER GENERATED BY DEFAULT AS IDENTITY,
	requestID NUMBER,
	CONSTRAINT decisionID PRIMARY KEY (decisionID),
 	CONSTRAINT requestID2 FOREIGN KEY(requestID) REFERENCES ReimbursementRequest(requestID),
	CONSTRAINT managerID FOREIGN KEY(managerEmail) REFERENCES employee(email)
);

ALTER TABLE ReimbursementRequest
ADD FOREIGN KEY (employeeEmail) REFERENCES employee(email);

INSERT INTO employee (firstName, lastName, email, jobTitle, manager)
VALUES ('Peter', 'Fowler', 'peter.fowler@example.net', 'Programmer', 'big.boss@example.net');

INSERT INTO employee (firstName, lastName, email, jobTitle, manager)
VALUES ('Big', 'Boss', 'big.boss@example.net', 'Boss', null);